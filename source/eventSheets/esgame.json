{
	"name": "ESGame",
	"events": [
		{
			"eventType": "variable",
			"name": "LAST_DROP_UID",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 242107061419987
		},
		{
			"eventType": "include",
			"includeSheet": "ESMaster"
		},
		{
			"eventType": "include",
			"includeSheet": "ESController"
		},
		{
			"eventType": "include",
			"includeSheet": "ESGameCycle"
		},
		{
			"eventType": "include",
			"includeSheet": "ESInterface"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "SIGNALLING",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 775858905504503,
							"parameters": {
								"object": "SDrop"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation-frame",
							"objectClass": "SDrop",
							"sid": 923297162701719,
							"parameters": {
								"frame-number": "Self.drop_type"
							}
						}
					],
					"sid": 266232138361550
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 725738511066805
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "SPlayer",
							"sid": 327853842429834
						},
						{
							"id": "destroy",
							"objectClass": "SDrop",
							"sid": 867299596951900
						},
						{
							"id": "set-opacity",
							"objectClass": "SSpawnDrop",
							"sid": 589315587310234,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "SSpawnPlayer",
							"sid": 660949092600743,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "SShadowCaster",
							"sid": 617443115342552,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "set-layer-opacity",
							"objectClass": "System",
							"sid": 679791366877895,
							"parameters": {
								"layer": "\"shadows\"",
								"opacity": "100"
							}
						},
						{
							"type": "comment",
							"text": "sync player pos"
						},
						{
							"id": "add-client-input-value",
							"objectClass": "Multiplayer",
							"sid": 739195177521365,
							"parameters": {
								"tag": "\"inputs\"",
								"precision": "very-low-uint8-1-byte",
								"interpolation": "none"
							}
						},
						{
							"id": "sync-object",
							"objectClass": "Multiplayer",
							"sid": 187826720812602,
							"parameters": {
								"object": "SPlayer",
								"data": "position-only",
								"precision": "high-double-8-bytes",
								"bandwidth": "low-bandwidth-highly-predictable"
							}
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 203049263779808,
							"parameters": {
								"object": "SPlayer",
								"instance-variable": {
									"name": "inputs",
									"objectClass": "SPlayer"
								},
								"precision": "very-low-uint8-1-byte",
								"interpolation": "none",
								"client-value-tag": "\"inputs\""
							}
						},
						{
							"type": "comment",
							"text": "sync player points"
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 711443868674591,
							"parameters": {
								"object": "SPlayer",
								"instance-variable": {
									"name": "score",
									"objectClass": "SPlayer"
								},
								"precision": "normal-float-4-bytes",
								"interpolation": "none",
								"client-value-tag": "\"\""
							}
						},
						{
							"type": "comment",
							"text": "sync player inventory"
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 970987318826968,
							"parameters": {
								"object": "SPlayer",
								"instance-variable": {
									"name": "need_1",
									"objectClass": "SPlayer"
								},
								"precision": "low-int16-2-bytes",
								"interpolation": "none",
								"client-value-tag": "\"\""
							}
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 116278369144851,
							"parameters": {
								"object": "SPlayer",
								"instance-variable": {
									"name": "need_2",
									"objectClass": "SPlayer"
								},
								"precision": "low-int16-2-bytes",
								"interpolation": "none",
								"client-value-tag": "\"\""
							}
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 414806872611845,
							"parameters": {
								"object": "SPlayer",
								"instance-variable": {
									"name": "need_3",
									"objectClass": "SPlayer"
								},
								"precision": "low-int16-2-bytes",
								"interpolation": "none",
								"client-value-tag": "\"\""
							}
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 449518527731141,
							"parameters": {
								"object": "SPlayer",
								"instance-variable": {
									"name": "pick_1",
									"objectClass": "SPlayer"
								},
								"precision": "low-int16-2-bytes",
								"interpolation": "none",
								"client-value-tag": "\"\""
							}
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 957952770107902,
							"parameters": {
								"object": "SPlayer",
								"instance-variable": {
									"name": "pick_2",
									"objectClass": "SPlayer"
								},
								"precision": "low-int16-2-bytes",
								"interpolation": "none",
								"client-value-tag": "\"\""
							}
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 535636286258644,
							"parameters": {
								"object": "SPlayer",
								"instance-variable": {
									"name": "pick_3",
									"objectClass": "SPlayer"
								},
								"precision": "low-int16-2-bytes",
								"interpolation": "none",
								"client-value-tag": "\"\""
							}
						},
						{
							"type": "comment",
							"text": "sync drop"
						},
						{
							"id": "sync-object",
							"objectClass": "Multiplayer",
							"sid": 704435168737698,
							"parameters": {
								"object": "SDrop",
								"data": "position-only",
								"precision": "normal-float-4-bytes",
								"bandwidth": "normal-bandwidth-unpredictable"
							}
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 257109626063412,
							"parameters": {
								"object": "SDrop",
								"instance-variable": {
									"name": "drop_uid",
									"objectClass": "SDrop"
								},
								"precision": "low-int16-2-bytes",
								"interpolation": "none",
								"client-value-tag": "\"drop_uid\""
							}
						},
						{
							"id": "sync-instance-variable",
							"objectClass": "Multiplayer",
							"sid": 862358909196636,
							"parameters": {
								"object": "SDrop",
								"instance-variable": {
									"name": "drop_type",
									"objectClass": "SDrop"
								},
								"precision": "low-int16-2-bytes",
								"interpolation": "none",
								"client-value-tag": "\"drop_type\""
							}
						}
					],
					"sid": 804944957454428,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-host",
									"objectClass": "Multiplayer",
									"sid": 246745608706727
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 567505630644684,
									"parameters": {
										"group-name": "\"HOST\"",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 832821350358190,
									"parameters": {
										"group-name": "\"PEER\"",
										"state": "deactivated"
									}
								},
								{
									"callFunction": "onPlayerEnter",
									"sid": 432805842052486,
									"parameters": [
										"Multiplayer.MyID"
									]
								}
							],
							"sid": 865017538573193
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-host",
									"objectClass": "Multiplayer",
									"sid": 394968529878647,
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 131884694603414,
									"parameters": {
										"group-name": "\"HOST\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 427722951073872,
									"parameters": {
										"group-name": "\"PEER\"",
										"state": "activated"
									}
								}
							],
							"sid": 668024584881798
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "SPlayer",
							"sid": 139815366100697,
							"parameters": {
								"instance-variable": "pid",
								"comparison": 0,
								"value": "Multiplayer.MyID"
							}
						}
					],
					"actions": [
						{
							"id": "set-position-to-another-object",
							"objectClass": "SLight",
							"sid": 368140583782090,
							"parameters": {
								"object": "SPlayer",
								"image-point-optional": "0"
							}
						}
					],
					"sid": 568319701448146,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 151165506574227,
									"parameters": {
										"object": "SShadowCaster"
									}
								},
								{
									"id": "compare-animation-frame",
									"objectClass": "SShadowCaster",
									"sid": 180866731616621,
									"parameters": {
										"comparison": 0,
										"number": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-height",
									"objectClass": "SShadowCaster",
									"sid": 710968830750411,
									"parameters": {
										"height": "max(0,\r\nmin(26,\r\nSShadowCaster.Y + 26 - SPlayer.Y\n))"
									}
								}
							],
							"sid": 678494315541630
						}
					]
				}
			],
			"sid": 712625897891187
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "MOVING",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 184027222989947
						}
					],
					"actions": [],
					"sid": 947091127822388,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 582622852972638,
									"parameters": {
										"object": "zsorted"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "zsorted",
									"sid": 328320102571246,
									"parameters": {
										"instance-variable": "ZSorting"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "zsorted",
									"sid": 530195775624885,
									"parameters": {
										"instance-variable": "yPos",
										"value": "Self.Y"
									}
								}
							],
							"sid": 743356157247616
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "sort-z-order",
									"objectClass": "System",
									"sid": 441779907932383,
									"parameters": {
										"object": "zsorted",
										"instance-variable": {
											"name": "yPos",
											"objectClass": "zsorted"
										}
									}
								}
							],
							"sid": 849017248699690
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 747351959962973,
							"parameters": {
								"object": "SPlayer"
							}
						}
					],
					"actions": [
						{
							"id": "set-position-to-another-object",
							"objectClass": "SPlayerVis",
							"sid": 532927363372965,
							"parameters": {
								"object": "SPlayer",
								"image-point-optional": "0"
							}
						},
						{
							"id": "set-position",
							"objectClass": "SFoundIndicator",
							"sid": 837406901810470,
							"parameters": {
								"x": "SPlayer.X",
								"y": "SPlayer.Y - 35"
							}
						},
						{
							"id": "move-to-top",
							"objectClass": "SFoundIndicator",
							"sid": 728059959495530
						}
					],
					"sid": 620879475521712,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 461521642016403,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 0)",
										"comparison": 0,
										"second-value": "1"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 843990245518535,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 1)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [],
							"sid": 835114266545885,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "SPlayerVis",
											"sid": 986838292758754,
											"parameters": {
												"animation": "\"side\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "SPlayerVis",
											"sid": 253830344939821,
											"parameters": {
												"animation": "\"side\"",
												"from": "beginning"
											}
										}
									],
									"sid": 160657963663971
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 465656141212236,
											"parameters": {
												"first-value": "getbit(SPlayer.inputs, 0)",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "SPlayerVis",
											"sid": 741767038470438,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 506336564723710
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 961339790317562
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "SPlayerVis",
											"sid": 557806871408681,
											"parameters": {
												"state": "not-mirrored"
											}
										}
									],
									"sid": 310005997673789
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 670881148991495
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 181708345586606,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 2)",
										"comparison": 0,
										"second-value": "1"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "SPlayerVis",
									"sid": 616025971751211,
									"parameters": {
										"animation": "\"up\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "SPlayerVis",
									"sid": 488697187566671,
									"parameters": {
										"animation": "\"up\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "SPlayerVis",
									"sid": 110551376648159,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 469704478669601
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 576512950482586
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 700910268539662,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 3)",
										"comparison": 0,
										"second-value": "1"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "SPlayerVis",
									"sid": 705311337617105,
									"parameters": {
										"animation": "\"down\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "SPlayerVis",
									"sid": 611029630413801,
									"parameters": {
										"animation": "\"down\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "SPlayerVis",
									"sid": 659414620447446,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 702246024789594
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 703578438724888
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 838560475170544,
									"parameters": {
										"instance-variable": "inputs",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "SPlayerVis",
									"sid": 963306334378848,
									"parameters": {
										"animation": "\"idle\"",
										"from": "current-frame"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "SPlayerVis",
									"sid": 622267818151201,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 711092118967716
						},
						{
							"eventType": "variable",
							"name": "collected_count",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 966515625287642
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 932621748948375,
									"parameters": {
										"first-value": "SPlayer.need_1",
										"comparison": 0,
										"second-value": "SPlayer.pick_1"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 240303463003961,
									"parameters": {
										"variable": "collected_count",
										"value": "1"
									}
								}
							],
							"sid": 440997004687360
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 750515528011409,
									"parameters": {
										"first-value": "SPlayer.need_2",
										"comparison": 0,
										"second-value": "SPlayer.pick_2"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 525544115671908,
									"parameters": {
										"variable": "collected_count",
										"value": "1"
									}
								}
							],
							"sid": 603376091110236
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 837000100794612,
									"parameters": {
										"first-value": "SPlayer.need_3",
										"comparison": 0,
										"second-value": "SPlayer.pick_3"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 923759258137683,
									"parameters": {
										"variable": "collected_count",
										"value": "1"
									}
								}
							],
							"sid": 112492927280617
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "SFoundIndicator",
									"sid": 444758337892938,
									"parameters": {
										"frame-number": "collected_count"
									}
								}
							],
							"sid": 197544781770686
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "SPlayer",
							"sid": 614082472043113,
							"parameters": {
								"instance-variable": "pid",
								"comparison": 0,
								"value": "Multiplayer.MyID"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "SPlayer",
							"sid": 524509363653693,
							"parameters": {
								"instance-variable": "inputs",
								"value": "LOCAL_INPUTS"
							}
						}
					],
					"sid": 683084256970123,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 408262605354671,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 0)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "SPlayer",
									"sid": 675014542141354,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "left"
									}
								}
							],
							"sid": 527281656026629
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 173543825428511,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 1)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "SPlayer",
									"sid": 905344350614957,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "right"
									}
								}
							],
							"sid": 573102396677158
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 979164559720582,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 2)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "SPlayer",
									"sid": 214588308929645,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "up"
									}
								}
							],
							"sid": 436242736017935
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 337622899485919,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 3)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "SPlayer",
									"sid": 626729551800272,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "down"
									}
								}
							],
							"sid": 502760255541682
						}
					]
				}
			],
			"sid": 301145645997895
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "GAME EVENTS",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "pickUpItem",
					"functionDescription": "",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": true,
					"functionParameters": [
						{
							"name": "drop_uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 613322601394901
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 945595513469328,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-host",
									"objectClass": "Multiplayer",
									"sid": 638792616206064
								}
							],
							"actions": [
								{
									"callFunction": "onPickUpItem",
									"sid": 830060239531990,
									"parameters": [
										"drop_uid",
										"Multiplayer.MyID"
									]
								}
							],
							"sid": 391868723632289
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-host",
									"objectClass": "Multiplayer",
									"sid": 248569926803941,
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "send-message",
									"objectClass": "Multiplayer",
									"sid": 571063685533127,
									"parameters": {
										"peer-id": "Multiplayer.HostID",
										"tag": "\"pickUpItem\"",
										"message": "str(drop_uid)",
										"mode": "reliable-ordered"
									}
								}
							],
							"sid": 106976195528460
						}
					]
				},
				{
					"functionName": "dropItem",
					"functionDescription": "",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": true,
					"functionParameters": [
						{
							"name": "drop_index",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 632955162906839
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 835557876992717,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-host",
									"objectClass": "Multiplayer",
									"sid": 440538198050394
								}
							],
							"actions": [
								{
									"callFunction": "onDropItem",
									"sid": 997567390682993,
									"parameters": [
										"drop_index",
										"Multiplayer.MyID"
									]
								}
							],
							"sid": 816706443317270
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-host",
									"objectClass": "Multiplayer",
									"sid": 575375004966614,
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "send-message",
									"objectClass": "Multiplayer",
									"sid": 609994530383332,
									"parameters": {
										"peer-id": "Multiplayer.HostID",
										"tag": "\"dropItem\"",
										"message": "str(drop_index)",
										"mode": "reliable-ordered"
									}
								}
							],
							"sid": 688598188261754
						}
					]
				},
				{
					"functionName": "stealItem",
					"functionDescription": "",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": true,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 268330395531256,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-host",
									"objectClass": "Multiplayer",
									"sid": 198297246126348
								}
							],
							"actions": [
								{
									"callFunction": "onStealItem",
									"sid": 798003340601918,
									"parameters": [
										"Multiplayer.MyID",
										"STEAL_PID"
									]
								}
							],
							"sid": 903421927093977
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-host",
									"objectClass": "Multiplayer",
									"sid": 335575797737988,
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "send-message",
									"objectClass": "Multiplayer",
									"sid": 601288025360929,
									"parameters": {
										"peer-id": "Multiplayer.HostID",
										"tag": "\"stealItem\"",
										"message": "STEAL_PID",
										"mode": "reliable-ordered"
									}
								}
							],
							"sid": 181495003086818
						}
					]
				}
			],
			"sid": 346060190745918
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "HOST",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"functionName": "createDrop",
					"functionDescription": "",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 129004775653742,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-random-instance",
									"objectClass": "System",
									"sid": 180068457825128,
									"parameters": {
										"object": "SSpawnDrop"
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "SSpawnDrop",
									"sid": 567977179126845,
									"parameters": {
										"object": "SDrop"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 572655331989392,
									"parameters": {
										"variable": "LAST_DROP_UID",
										"value": "1"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 248309295739217,
									"parameters": {
										"object-to-create": "SDrop",
										"layer": "\"game\"",
										"x": "SSpawnDrop.X",
										"y": "SSpawnDrop.Y"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SDrop",
									"sid": 670005308567765,
									"parameters": {
										"instance-variable": "drop_uid",
										"value": "LAST_DROP_UID"
									}
								},
								{
									"id": "move-to-bottom",
									"objectClass": "SDrop",
									"sid": 501131795835096
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SDrop",
									"sid": 644867642872259,
									"parameters": {
										"instance-variable": "drop_type",
										"value": "floor(random(JSONSettings.Get(\"game.itemTypes\")))"
									}
								}
							],
							"sid": 522561552145699
						}
					]
				},
				{
					"eventType": "comment",
					"text": "dropping items"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-peer-message",
							"objectClass": "Multiplayer",
							"sid": 974242961916896,
							"parameters": {
								"tag": "\"dropItem\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "onDropItem",
							"sid": 518731174408619,
							"parameters": [
								"int(Multiplayer.Message)",
								"Multiplayer.FromID"
							]
						}
					],
					"sid": 592198977071955
				},
				{
					"functionName": "onDropItem",
					"functionDescription": "",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "drop_index",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 573313258770423
						},
						{
							"name": "pid",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 383507935502116
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 606854318435585,
					"children": [
						{
							"eventType": "variable",
							"name": "drop_type",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 701007846029568
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 571538626225984,
									"parameters": {
										"first-value": "drop_index",
										"comparison": 0,
										"second-value": "1"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 171339064352475,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "pid"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 916643481255091,
									"parameters": {
										"variable": "drop_type",
										"value": "SPlayer.pick_1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SPlayer",
									"sid": 107058948351343,
									"parameters": {
										"instance-variable": "pick_1",
										"value": "-1"
									}
								}
							],
							"sid": 570524245391475
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 909060008342087,
									"parameters": {
										"first-value": "drop_index",
										"comparison": 0,
										"second-value": "2"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 107289971511518,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "pid"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 171085779558121,
									"parameters": {
										"variable": "drop_type",
										"value": "SPlayer.pick_2"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SPlayer",
									"sid": 660152310920216,
									"parameters": {
										"instance-variable": "pick_2",
										"value": "-1"
									}
								}
							],
							"sid": 991714519104168
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 414539298360310,
									"parameters": {
										"first-value": "drop_index",
										"comparison": 0,
										"second-value": "3"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 437169526659157,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "pid"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 549398712603596,
									"parameters": {
										"variable": "drop_type",
										"value": "SPlayer.pick_3"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SPlayer",
									"sid": 542499784796950,
									"parameters": {
										"instance-variable": "pick_3",
										"value": "-1"
									}
								}
							],
							"sid": 290326875180662
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 601985090126805,
									"parameters": {
										"first-value": "drop_type",
										"comparison": 5,
										"second-value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 607255333645809,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "pid"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 142706261669645,
									"parameters": {
										"variable": "LAST_DROP_UID",
										"value": "1"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 191869118003757,
									"parameters": {
										"object-to-create": "SDrop",
										"layer": "\"game\"",
										"x": "SPlayer.X",
										"y": "SPlayer.Y"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SDrop",
									"sid": 722824411749122,
									"parameters": {
										"instance-variable": "drop_uid",
										"value": "LAST_DROP_UID"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SDrop",
									"sid": 374988511997680,
									"parameters": {
										"instance-variable": "drop_type",
										"value": "drop_type"
									}
								}
							],
							"sid": 973614343894708
						}
					]
				},
				{
					"eventType": "comment",
					"text": "picking up items"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-peer-message",
							"objectClass": "Multiplayer",
							"sid": 138370514699334,
							"parameters": {
								"tag": "\"pickUpItem\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "onPickUpItem",
							"sid": 542750456512427,
							"parameters": [
								"int(Multiplayer.Message)",
								"Multiplayer.FromID"
							]
						}
					],
					"sid": 282150887259244
				},
				{
					"functionName": "onPickUpItem",
					"functionDescription": "host only",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "drop_uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 600483887399893
						},
						{
							"name": "pid",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 722573308093087
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 100117863278631,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "SDrop",
									"sid": 615010224006320,
									"parameters": {
										"instance-variable": "drop_uid",
										"comparison": 0,
										"value": "drop_uid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 720006687074620,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "pid"
									}
								}
							],
							"actions": [],
							"sid": 742345945587826,
							"children": [
								{
									"eventType": "variable",
									"name": "is_picked",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 494616768410902
								},
								{
									"eventType": "comment",
									"text": "сначала проверить наличие пустого поля такого типа"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 810245009313204,
											"parameters": {
												"instance-variable": "pick_1",
												"comparison": 2,
												"value": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 798624896718589,
											"parameters": {
												"instance-variable": "need_1",
												"comparison": 0,
												"value": "SDrop.drop_type"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "SPlayer",
											"sid": 914312673132163,
											"parameters": {
												"instance-variable": "pick_1",
												"value": "SDrop.drop_type"
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 423264398981331,
											"parameters": {
												"variable": "is_picked",
												"value": "true"
											}
										}
									],
									"sid": 731368797762107
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 354262624295682,
											"parameters": {
												"variable": "is_picked"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 125447446509978,
											"parameters": {
												"instance-variable": "pick_2",
												"comparison": 2,
												"value": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 275157752288034,
											"parameters": {
												"instance-variable": "need_2",
												"comparison": 0,
												"value": "SDrop.drop_type"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "SPlayer",
											"sid": 931040803752023,
											"parameters": {
												"instance-variable": "pick_2",
												"value": "SDrop.drop_type"
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 937506754402425,
											"parameters": {
												"variable": "is_picked",
												"value": "true"
											}
										}
									],
									"sid": 552840401960217
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 439124245085479,
											"parameters": {
												"variable": "is_picked"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 737158962223909,
											"parameters": {
												"instance-variable": "pick_3",
												"comparison": 2,
												"value": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 930389743648523,
											"parameters": {
												"instance-variable": "need_3",
												"comparison": 0,
												"value": "SDrop.drop_type"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "SPlayer",
											"sid": 645010490065473,
											"parameters": {
												"instance-variable": "pick_3",
												"value": "SDrop.drop_type"
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 942313299736986,
											"parameters": {
												"variable": "is_picked",
												"value": "true"
											}
										}
									],
									"sid": 772020695027158
								},
								{
									"eventType": "comment",
									"text": "если поля такого же типа нет, то ставим в первое пустое поле"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 494715473825417,
											"parameters": {
												"variable": "is_picked"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 944923097757421,
											"parameters": {
												"instance-variable": "pick_1",
												"comparison": 2,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "SPlayer",
											"sid": 106828381275522,
											"parameters": {
												"instance-variable": "pick_1",
												"value": "SDrop.drop_type"
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 892158386121276,
											"parameters": {
												"variable": "is_picked",
												"value": "true"
											}
										}
									],
									"sid": 900434415323646
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 609699596491876,
											"parameters": {
												"variable": "is_picked"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 433691165103518,
											"parameters": {
												"instance-variable": "pick_2",
												"comparison": 2,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "SPlayer",
											"sid": 188952337459431,
											"parameters": {
												"instance-variable": "pick_2",
												"value": "SDrop.drop_type"
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 500171892509414,
											"parameters": {
												"variable": "is_picked",
												"value": "true"
											}
										}
									],
									"sid": 437768456737073
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 287312335082719,
											"parameters": {
												"variable": "is_picked"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 401101334022211,
											"parameters": {
												"instance-variable": "pick_3",
												"comparison": 2,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "SPlayer",
											"sid": 722806264552297,
											"parameters": {
												"instance-variable": "pick_3",
												"value": "SDrop.drop_type"
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 712414161305467,
											"parameters": {
												"variable": "is_picked",
												"value": "true"
											}
										}
									],
									"sid": 936161394499277
								},
								{
									"eventType": "comment",
									"text": "если поставили тип, то удаляем"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 678204852138672,
											"parameters": {
												"variable": "is_picked"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "SDrop",
											"sid": 656811206678767
										}
									],
									"sid": 442421476056936
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "stealing items"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-peer-message",
							"objectClass": "Multiplayer",
							"sid": 120143480390442,
							"parameters": {
								"tag": "\"stealItem\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "onStealItem",
							"sid": 916150771465468,
							"parameters": [
								"Multiplayer.FromID",
								"Multiplayer.Message"
							]
						}
					],
					"sid": 823463613140636
				},
				{
					"functionName": "onStealItem",
					"functionDescription": "",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "stealer_pid",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 308483545236399
						},
						{
							"name": "victim_pid",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 948933532823052
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 124922058698122,
					"children": [
						{
							"eventType": "variable",
							"name": "stealer_empty_index",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 676301801363868
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 306780498015968,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "stealer_pid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 930592490824303,
									"parameters": {
										"instance-variable": "pick_1",
										"comparison": 2,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 884813108164045,
									"parameters": {
										"variable": "stealer_empty_index",
										"value": "1"
									}
								}
							],
							"sid": 981230989479849
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 546511660280521,
									"parameters": {
										"variable": "stealer_empty_index",
										"comparison": 2,
										"value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 845171526862234,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "stealer_pid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 781763650871372,
									"parameters": {
										"instance-variable": "pick_2",
										"comparison": 2,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 235589603003914,
									"parameters": {
										"variable": "stealer_empty_index",
										"value": "2"
									}
								}
							],
							"sid": 270398341314421
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 664470820151772,
									"parameters": {
										"variable": "stealer_empty_index",
										"comparison": 2,
										"value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 863836615911048,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "stealer_pid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 256996348584663,
									"parameters": {
										"instance-variable": "pick_3",
										"comparison": 2,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 785030292903556,
									"parameters": {
										"variable": "stealer_empty_index",
										"value": "3"
									}
								}
							],
							"sid": 569135666054211
						},
						{
							"eventType": "variable",
							"name": "victim_steal_index",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 245495744621046
						},
						{
							"eventType": "variable",
							"name": "steal_type",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 868289198057438
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 463452469434517,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "victim_pid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 387800107659881,
									"parameters": {
										"instance-variable": "pick_1",
										"comparison": 5,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 614636219416976,
									"parameters": {
										"variable": "victim_steal_index",
										"value": "1"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 105735562777300,
									"parameters": {
										"variable": "steal_type",
										"value": "SPlayer.pick_1"
									}
								}
							],
							"sid": 989034972461373
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 528313301198124,
									"parameters": {
										"variable": "victim_steal_index",
										"comparison": 2,
										"value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 895616029541794,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "victim_pid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 908346914429659,
									"parameters": {
										"instance-variable": "pick_2",
										"comparison": 5,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 695588606214961,
									"parameters": {
										"variable": "victim_steal_index",
										"value": "2"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 909791738798902,
									"parameters": {
										"variable": "steal_type",
										"value": "SPlayer.pick_2"
									}
								}
							],
							"sid": 523493447444307
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 396551005862604,
									"parameters": {
										"variable": "victim_steal_index",
										"comparison": 2,
										"value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 424839290215005,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "victim_pid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 144418682991460,
									"parameters": {
										"instance-variable": "pick_3",
										"comparison": 5,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 636625403961558,
									"parameters": {
										"variable": "victim_steal_index",
										"value": "3"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 783593868642185,
									"parameters": {
										"variable": "steal_type",
										"value": "SPlayer.pick_3"
									}
								}
							],
							"sid": 768700349414903
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 768771400705940,
									"parameters": {
										"variable": "victim_steal_index",
										"comparison": 5,
										"value": "0"
									}
								}
							],
							"actions": [],
							"sid": 444085023116806,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 127690007397227,
											"parameters": {
												"variable": "stealer_empty_index",
												"comparison": 5,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 781750014280642,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "SPlayer",
													"sid": 998667301530471,
													"parameters": {
														"instance-variable": "pid",
														"comparison": 0,
														"value": "stealer_pid"
													}
												}
											],
											"actions": [],
											"sid": 261943405267817,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 845225495575873,
															"parameters": {
																"variable": "stealer_empty_index",
																"comparison": 0,
																"value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "SPlayer",
															"sid": 979027364653442,
															"parameters": {
																"instance-variable": "pick_1",
																"value": "steal_type"
															}
														}
													],
													"sid": 872171201450061
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 849915557519947,
															"parameters": {
																"variable": "stealer_empty_index",
																"comparison": 0,
																"value": "2"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "SPlayer",
															"sid": 555883729101421,
															"parameters": {
																"instance-variable": "pick_2",
																"value": "steal_type"
															}
														}
													],
													"sid": 766341459431691
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 337564621129925,
															"parameters": {
																"variable": "stealer_empty_index",
																"comparison": 0,
																"value": "3"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "SPlayer",
															"sid": 863314170340635,
															"parameters": {
																"instance-variable": "pick_3",
																"value": "steal_type"
															}
														}
													],
													"sid": 431256853665506
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "SPlayer",
													"sid": 424191960637906,
													"parameters": {
														"instance-variable": "pid",
														"comparison": 0,
														"value": "victim_pid"
													}
												}
											],
											"actions": [],
											"sid": 115971776412365,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 747180709808297,
															"parameters": {
																"variable": "victim_steal_index",
																"comparison": 0,
																"value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "SPlayer",
															"sid": 964391008950063,
															"parameters": {
																"instance-variable": "pick_1",
																"value": "-1"
															}
														}
													],
													"sid": 930250686399434
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 590984383123507,
															"parameters": {
																"variable": "victim_steal_index",
																"comparison": 0,
																"value": "2"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "SPlayer",
															"sid": 523143174887440,
															"parameters": {
																"instance-variable": "pick_2",
																"value": "-1"
															}
														}
													],
													"sid": 687354373764918
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 810525100189977,
															"parameters": {
																"variable": "victim_steal_index",
																"comparison": 0,
																"value": "3"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "SPlayer",
															"sid": 373227635667005,
															"parameters": {
																"instance-variable": "pick_3",
																"value": "-1"
															}
														}
													],
													"sid": 569909692646988
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 144471833427125
										}
									],
									"actions": [
										{
											"callFunction": "onDropItem",
											"sid": 684107535532297,
											"parameters": [
												"victim_steal_index",
												"victim_pid"
											]
										}
									],
									"sid": 191275295939802
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": " player entering & leaving"
				},
				{
					"functionName": "onPlayerLeave",
					"functionDescription": "host only",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 552641813339497
				},
				{
					"functionName": "onPlayerEnter",
					"functionDescription": "host only",
					"functionCategory": "game",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "pid",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 497641788166526
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 103285177800917,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-random-instance",
									"objectClass": "System",
									"sid": 879240497149576,
									"parameters": {
										"object": "SSpawnPlayer"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 371912062931507,
									"parameters": {
										"object-to-create": "SPlayer",
										"layer": "\"game\"",
										"x": "SSpawnPlayer.X",
										"y": "SSpawnPlayer.Y"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "SPlayer",
									"sid": 914818275263421,
									"parameters": {
										"opacity": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SPlayer",
									"sid": 258607875552854,
									"parameters": {
										"instance-variable": "pid",
										"value": "pid"
									}
								},
								{
									"id": "associate-object-with-peer",
									"objectClass": "Multiplayer",
									"sid": 185693563591985,
									"parameters": {
										"object": "SPlayer",
										"peer-id": "pid"
									}
								}
							],
							"sid": 437239701457527,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "SPlayer",
											"sid": 164254073663157,
											"parameters": {
												"instance-variable": "pid",
												"comparison": 0,
												"value": "Multiplayer.MyID"
											}
										}
									],
									"actions": [
										{
											"id": "set-enabled",
											"objectClass": "SPlayer",
											"sid": 600982651356128,
											"behaviorType": "ScrollTo",
											"parameters": {
												"state": "enabled"
											}
										}
									],
									"sid": 872668873273430
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "SPlayer",
							"sid": 866487479274182,
							"parameters": {
								"instance-variable": "pid",
								"comparison": 0,
								"value": "Multiplayer.MyID"
							},
							"isInverted": true
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 837583585269735,
							"parameters": {
								"object": "SPlayer"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "SPlayer",
							"sid": 894053250130357,
							"parameters": {
								"instance-variable": "inputs",
								"value": "Multiplayer.PeerState(SPlayer.pid, \"inputs\")"
							}
						}
					],
					"sid": 174993227653623,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 917032913668095,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 0)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "SPlayer",
									"sid": 374380922491293,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "left"
									}
								}
							],
							"sid": 882821905794270
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 319784739078415,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 1)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "SPlayer",
									"sid": 448734416862422,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "right"
									}
								}
							],
							"sid": 660352115401546
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 231517298538346,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 2)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "SPlayer",
									"sid": 578855511478186,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "up"
									}
								}
							],
							"sid": 527935999865589
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 153181635097545,
									"parameters": {
										"first-value": "getbit(SPlayer.inputs, 3)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "SPlayer",
									"sid": 399397883926970,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "down"
									}
								}
							],
							"sid": 824089181207319
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-peer-connected",
							"objectClass": "Multiplayer",
							"sid": 755556823843984
						}
					],
					"actions": [
						{
							"callFunction": "onPlayerEnter",
							"sid": 854286252034860,
							"parameters": [
								"Multiplayer.PeerID"
							]
						}
					],
					"sid": 598574574967668
				}
			],
			"sid": 223114968368341
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PEER",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "SDrop",
							"sid": 568850712058475
						}
					],
					"actions": [
						{
							"id": "move-to-bottom",
							"objectClass": "SDrop",
							"sid": 893542542082385
						}
					],
					"sid": 381426759516610
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "SPlayer",
							"sid": 784888135994560
						}
					],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "SPlayer",
							"sid": 609556551584538,
							"parameters": {
								"opacity": "0"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "SPlayer",
							"sid": 620126732064816,
							"parameters": {
								"instance-variable": "pid",
								"value": "Multiplayer.PeerID"
							}
						},
						{
							"id": "move-to-top",
							"objectClass": "SPlayer",
							"sid": 945634794489457
						},
						{
							"id": "associate-object-with-peer",
							"objectClass": "Multiplayer",
							"sid": 263147571873051,
							"parameters": {
								"object": "SPlayer",
								"peer-id": "Multiplayer.PeerID"
							}
						}
					],
					"sid": 203777588016964,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "SPlayer",
									"sid": 966744269115257,
									"parameters": {
										"instance-variable": "pid",
										"comparison": 0,
										"value": "Multiplayer.MyID"
									}
								}
							],
							"actions": [
								{
									"id": "enable-local-input-prediction",
									"objectClass": "Multiplayer",
									"sid": 357286881878114,
									"parameters": {
										"object": "SPlayer"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "SPlayer",
									"sid": 482172335303325,
									"behaviorType": "ScrollTo",
									"parameters": {
										"state": "enabled"
									}
								}
							],
							"sid": 115982489031031
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-client-update",
							"objectClass": "Multiplayer",
							"sid": 938918817440187
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "SPlayer",
							"sid": 593637282916997,
							"parameters": {
								"instance-variable": "pid",
								"comparison": 0,
								"value": "Multiplayer.MyID"
							}
						}
					],
					"actions": [
						{
							"id": "set-client-state",
							"objectClass": "Multiplayer",
							"sid": 582974835821967,
							"parameters": {
								"tag": "\"inputs\"",
								"value": "LOCAL_INPUTS"
							}
						}
					],
					"sid": 442792561158930
				}
			],
			"sid": 932251385640048
		}
	],
	"sid": 313727134619767
}